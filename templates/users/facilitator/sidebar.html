<aside id="sidebar" class="fixed top-0 left-0 z-20 flex flex-col flex-shrink-0 w-64 h-full pt-16 font-normal duration-300 lg:flex transition-all" aria-label="Sidebar">
    <div class="relative flex flex-col flex-1 min-h-0 pt-0 bg-gradient-to-b from-green-900 to-green-800 border-r border-green-700 shadow-lg">
        <div class="flex flex-col flex-1 pt-5 pb-4 overflow-y-auto">
            <div class="flex-1 px-3 space-y-1 divide-y divide-green-700">
                <ul class="pb-2 space-y-2">
                    <li>
                        <a href="{% url 'facilitator_dashboard' %}" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-tachometer-alt mr-3 text-yellow-400 transition-all duration-300 ease-in-out group-hover:rotate-12 sidebar-icon"></i>
                            <span class="ml-3">Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <button type="button" class="flex items-center w-full p-2 text-base text-white transition duration-75 rounded-lg group hover:bg-green-700" aria-controls="dropdown-courses" data-collapse-toggle="dropdown-courses">
                            <i class="fa-solid fa-chalkboard-teacher mr-3 text-blue-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="flex-1 ml-3 text-left whitespace-nowrap">Courses</span>
                            <i class="fa-solid fa-chevron-down ml-3 transition-transform duration-300"></i>
                        </button>
                        <ul id="dropdown-courses" class="hidden py-2 space-y-2">
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">My Courses</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Create Course</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Course Analytics</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <button type="button" class="flex items-center w-full p-2 text-base text-white transition duration-75 rounded-lg group hover:bg-green-700" aria-controls="dropdown-assignments" data-collapse-toggle="dropdown-assignments">
                            <i class="fa-solid fa-tasks mr-3 text-red-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="flex-1 ml-3 text-left whitespace-nowrap">Assignments</span>
                            <i class="fa-solid fa-chevron-down ml-3 transition-transform duration-300"></i>
                        </button>
                        <ul id="dropdown-assignments" class="hidden py-2 space-y-2">
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Manage Assignments</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Create Assignment</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">View Submissions</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <button type="button" class="flex items-center w-full p-2 text-base text-white transition duration-75 rounded-lg group hover:bg-green-700" aria-controls="dropdown-grading" data-collapse-toggle="dropdown-grading">
                            <i class="fa-solid fa-star mr-3 text-yellow-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="flex-1 ml-3 text-left whitespace-nowrap">Grading</span>
                            <i class="fa-solid fa-chevron-down ml-3 transition-transform duration-300"></i>
                        </button>
                        <ul id="dropdown-grading" class="hidden py-2 space-y-2">
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Grading Queue</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Rubrics</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Grade Book</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-users mr-3 text-purple-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Learners</span>
                        </a>
                    </li>
                    <li>
                        <button type="button" class="flex items-center w-full p-2 text-base text-white transition duration-75 rounded-lg group hover:bg-green-700" aria-controls="dropdown-discussions" data-collapse-toggle="dropdown-discussions">
                            <i class="fa-solid fa-comments mr-3 text-blue-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="flex-1 ml-3 text-left whitespace-nowrap">Discussions</span>
                            <i class="fa-solid fa-chevron-down ml-3 transition-transform duration-300"></i>
                        </button>
                        <ul id="dropdown-discussions" class="hidden py-2 space-y-2">
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">All Discussions</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Create Discussion</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Moderate</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="{% url 'facilitator_announcements' %}" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-bullhorn mr-3 text-orange-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Announcements</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-book-open mr-3 text-teal-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Resources</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-calendar-alt mr-3 text-indigo-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Calendar</span>
                        </a>
                    </li>
                    <li>
                        <button type="button" class="flex items-center w-full p-2 text-base text-white transition duration-75 rounded-lg group hover:bg-green-700" aria-controls="dropdown-reports" data-collapse-toggle="dropdown-reports">
                            <i class="fa-solid fa-chart-line mr-3 text-pink-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="flex-1 ml-3 text-left whitespace-nowrap">Reports</span>
                            <i class="fa-solid fa-chevron-down ml-3 transition-transform duration-300"></i>
                        </button>
                        <ul id="dropdown-reports" class="hidden py-2 space-y-2">
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Course Progress</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Learner Performance</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Assessment Analytics</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Engagement Metrics</a>
                            </li>
                            <li>
                                <a href="#" class="flex items-center w-full p-2 text-sm text-white transition duration-75 rounded-lg pl-11 group hover:bg-green-600">Custom Reports</a>
                            </li>
                        </ul>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-envelope mr-3 text-cyan-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Messages</span>
                        </a>
                    </li>
                </ul>
                <ul class="pt-5 mt-5 space-y-2 border-t border-green-700">
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-user mr-3 text-gray-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">My Profile</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-cog mr-3 text-gray-400 transition-all duration-300 ease-in-out group-hover:rotate-90"></i>
                            <span class="ml-3">Settings</span>
                        </a>
                    </li>
                    <li>
                        <a href="#" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-question-circle mr-3 text-gray-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Help & Support</span>
                        </a>
                    </li>
                    <li>
                        <a href="{% url 'logout' %}" class="flex items-center p-2 text-base text-white rounded-lg hover:bg-green-700 group transition-all duration-300 ease-in-out transform hover:scale-105">
                            <i class="fa-solid fa-sign-out-alt mr-3 text-gray-400 transition-all duration-300 ease-in-out group-hover:rotate-12"></i>
                            <span class="ml-3">Logout</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</aside>

<style>
@keyframes pulse {
    0% {
        box-shadow: 0 0 0 0 rgba(34, 197, 94, 0.7);
    }
    70% {
        box-shadow: 0 0 0 10px rgba(34, 197, 94, 0);
    }
    100% {
        box-shadow: 0 0 0 0 rgba(34, 197, 94, 0);
    }
}

.sidebar-icon {
    animation: pulse 2s infinite;
}

.active {
    background-color: rgba(34, 197, 94, 0.5);
}
</style>

<script>
document.addEventListener('DOMContentLoaded', (event) => {
    const dropdownToggles = document.querySelectorAll('[data-collapse-toggle]');
    
    dropdownToggles.forEach(toggle => {
        toggle.addEventListener('click', () => {
            const targetId = toggle.getAttribute('data-collapse-toggle');
            const target = document.getElementById(targetId);
            target.classList.toggle('show');
            toggle.querySelector('i:last-child').classList.toggle('fa-rotate-180');
        });
    });
});
</script>