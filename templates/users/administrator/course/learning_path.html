{% extends '../_base.html' %}
{% load static %}
{% load i18n %}

{% block title %}Learning Path Management - LMS Admin{% endblock %}

{% block extra_css %}
{% endblock %}

{% block content %}
<div class="learning-path-page">


    <header class="mb-6 gradient-bg p-6 rounded-lg shadow-md">
        <h1 class="text-4xl font-bold text-white text-center mb-2">{% trans "Learning Path Management" %}</h1>
        <p class="text-lg text-white text-center">{% trans "Design, monitor, and optimize learning journeys for your learners" %}</p>
    </header>

    <!-- Overview Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6 animate__animated animate__fadeInUp">
        <div class="bg-white rounded-lg shadow p-6 border-l-4 border-blue-500">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">{% trans "Active Learning Paths" %}</h3>
            <p class="text-3xl font-bold text-blue-600">12</p>
        </div>
        <div class="bg-white rounded-lg shadow p-6 border-l-4 border-green-500">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">{% trans "Total Enrolled Learners" %}</h3>
            <p class="text-3xl font-bold text-green-600">1,245</p>
        </div>
        <div class="bg-white rounded-lg shadow p-6 border-l-4 border-yellow-500">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">{% trans "Avg. Completion Rate" %}</h3>
            <p class="text-3xl font-bold text-yellow-600">68%</p>
        </div>
        <div class="bg-white rounded-lg shadow p-6 border-l-4 border-purple-500">
            <h3 class="text-lg font-semibold text-gray-700 mb-2">{% trans "Avg. Learner Satisfaction" %}</h3>
            <p class="text-3xl font-bold text-purple-600">4.6/5</p>
        </div>
    </div>

    <!-- Learning Path Management Tools -->
    <div class="bg-white rounded-lg shadow p-6 mb-6 animate__animated animate__fadeInUp">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Learning Path Management Tools" %}</h2>
        <div class="flex flex-wrap gap-4">
            <button class="px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">
                {% trans "Create New Path" %}
            </button>
            <button class="px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                {% trans "Edit Existing Path" %}
            </button>
            <button class="px-4 py-2 bg-yellow-600 text-white rounded-md hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-500 focus:ring-offset-2">
                {% trans "Assign Learners" %}
            </button>
            <button class="px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2">
                {% trans "Generate Reports" %}
            </button>
        </div>
    </div>

    <!-- Active Learning Paths -->
    <div class="bg-white rounded-lg shadow p-6 mb-6 animate__animated animate__fadeInUp">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Active Learning Paths" %}</h2>
        <div class="overflow-x-auto">
            <table class="min-w-full divide-y divide-gray-200">
                <thead class="bg-gray-50">
                    <tr>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{% trans "Path Name" %}</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{% trans "Category" %}</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{% trans "Enrolled Learners" %}</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{% trans "Completion Rate" %}</th>
                        <th scope="col" class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">{% trans "Actions" %}</th>
                    </tr>
                </thead>
                <tbody class="bg-white divide-y divide-gray-200">
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">{% trans "Full Stack Web Development" %}</td>
                        <td class="px-6 py-4 whitespace-nowrap">{% trans "Technology" %}</td>
                        <td class="px-6 py-4 whitespace-nowrap">256</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center">
                                <span class="text-green-600 font-semibold">72%</span>
                                <div class="w-16 bg-gray-200 rounded-full h-2 ml-2">
                                    <div class="bg-green-600 h-2 rounded-full" style="width: 72%"></div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="#" class="text-indigo-600 hover:text-indigo-900 mr-2">{% trans "View" %}</a>
                            <a href="#" class="text-green-600 hover:text-green-900 mr-2">{% trans "Edit" %}</a>
                            <a href="#" class="text-red-600 hover:text-red-900">{% trans "Delete" %}</a>
                        </td>
                    </tr>
                    <tr>
                        <td class="px-6 py-4 whitespace-nowrap">{% trans "Data Science Mastery" %}</td>
                        <td class="px-6 py-4 whitespace-nowrap">{% trans "Data & Analytics" %}</td>
                        <td class="px-6 py-4 whitespace-nowrap">189</td>
                        <td class="px-6 py-4 whitespace-nowrap">
                            <div class="flex items-center">
                                <span class="text-yellow-600 font-semibold">65%</span>
                                <div class="w-16 bg-gray-200 rounded-full h-2 ml-2">
                                    <div class="bg-yellow-600 h-2 rounded-full" style="width: 65%"></div>
                                </div>
                            </div>
                        </td>
                        <td class="px-6 py-4 whitespace-nowrap text-sm font-medium">
                            <a href="#" class="text-indigo-600 hover:text-indigo-900 mr-2">{% trans "View" %}</a>
                            <a href="#" class="text-green-600 hover:text-green-900 mr-2">{% trans "Edit" %}</a>
                            <a href="#" class="text-red-600 hover:text-red-900">{% trans "Delete" %}</a>
                        </td>
                    </tr>
                    <!-- Add more rows as needed -->
                </tbody>
            </table>
        </div>
    </div>

    <!-- Learning Path Visualization -->
    <div class="bg-white rounded-lg shadow p-6 mb-6 animate__animated animate__fadeInUp">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Learning Path Visualization: Full Stack Web Development" %}</h2>
        <div class="learning-path-visualization">
            <!-- This would be replaced with an actual interactive visualization -->
            <div class="flex justify-between items-center">
                <div class="bg-blue-100 rounded-lg p-4 text-center">
                    <p class="font-semibold">{% trans "HTML & CSS Basics" %}</p>
                    <p class="text-sm text-gray-600">{% trans "4 weeks" %}</p>
                </div>
                <div class="h-0.5 w-8 bg-gray-300"></div>
                <div class="bg-blue-100 rounded-lg p-4 text-center">
                    <p class="font-semibold">{% trans "JavaScript Fundamentals" %}</p>
                    <p class="text-sm text-gray-600">{% trans "6 weeks" %}</p>
                </div>
                <div class="h-0.5 w-8 bg-gray-300"></div>
                <div class="bg-blue-100 rounded-lg p-4 text-center">
                    <p class="font-semibold">{% trans "Backend with Node.js" %}</p>
                    <p class="text-sm text-gray-600">{% trans "8 weeks" %}</p>
                </div>
                <div class="h-0.5 w-8 bg-gray-300"></div>
                <div class="bg-blue-100 rounded-lg p-4 text-center">
                    <p class="font-semibold">{% trans "Frontend Frameworks" %}</p>
                    <p class="text-sm text-gray-600">{% trans "6 weeks" %}</p>
                </div>
                <div class="h-0.5 w-8 bg-gray-300"></div>
                <div class="bg-blue-100 rounded-lg p-4 text-center">
                    <p class="font-semibold">{% trans "Capstone Project" %}</p>
                    <p class="text-sm text-gray-600">{% trans "4 weeks" %}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Learning Path Visualization: Data Science Mastery -->
    <div class="bg-white rounded-lg shadow p-6 mb-6 animate__animated animate__fadeInUp">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Learning Path Visualization: Data Science Mastery" %}</h2>
        <div class="learning-path-visualization">
            <div class="flex flex-col items-center">
                <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mb-4">
                    <p class="font-semibold">{% trans "Introduction to Data Science" %}</p>
                    <p class="text-sm text-gray-600">{% trans "4 weeks" %}</p>
                </div>
                <div class="h-8 w-0.5 bg-gray-300"></div>
                <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mb-4">
                    <p class="font-semibold">{% trans "Statistics and Probability" %}</p>
                    <p class="text-sm text-gray-600">{% trans "6 weeks" %}</p>
                </div>
                <div class="h-8 w-0.5 bg-gray-300"></div>
                <div class="flex justify-center w-full mb-4">
                    <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mx-4">
                        <p class="font-semibold">{% trans "Python for Data Science" %}</p>
                        <p class="text-sm text-gray-600">{% trans "8 weeks" %}</p>
                    </div>
                    <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mx-4">
                        <p class="font-semibold">{% trans "Data Visualization" %}</p>
                        <p class="text-sm text-gray-600">{% trans "4 weeks" %}</p>
                    </div>
                </div>
                <div class="h-8 w-0.5 bg-gray-300"></div>
                <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mb-4">
                    <p class="font-semibold">{% trans "Machine Learning Fundamentals" %}</p>
                    <p class="text-sm text-gray-600">{% trans "10 weeks" %}</p>
                </div>
                <div class="h-8 w-0.5 bg-gray-300"></div>
                <div class="flex justify-center w-full mb-4">
                    <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mx-4">
                        <p class="font-semibold">{% trans "Deep Learning" %}</p>
                        <p class="text-sm text-gray-600">{% trans "6 weeks" %}</p>
                    </div>
                    <div class="bg-purple-100 rounded-lg p-4 text-center w-64 mx-4">
                        <p class="font-semibold">{% trans "Big Data Technologies" %}</p>
                        <p class="text-sm text-gray-600">{% trans "6 weeks" %}</p>
                    </div>
                </div>
                <div class="h-8 w-0.5 bg-gray-300"></div>
                <div class="bg-purple-100 rounded-lg p-4 text-center w-64">
                    <p class="font-semibold">{% trans "Capstone Project" %}</p>
                    <p class="text-sm text-gray-600">{% trans "8 weeks" %}</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Learning Path Analytics -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6 animate__animated animate__fadeInUp">
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Learner Progress Distribution" %}</h2>
            <canvas id="learnerProgressChart" width="400" height="200"></canvas>
        </div>
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Completion Time Analysis" %}</h2>
            <canvas id="completionTimeChart" width="400" height="200"></canvas>
        </div>
    </div>

    <!-- Learner Feedback -->
    <div class="bg-white rounded-lg shadow p-6 animate__animated animate__fadeInUp">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">{% trans "Learner Feedback" %}</h2>
        <div class="space-y-4">
            <div class="bg-gray-50 p-4 rounded-lg">
                <div class="flex items-center mb-2">
                    <img src="https://i.pravatar.cc/40?img=1" alt="{% trans "Learner" %}" class="w-10 h-10 rounded-full mr-3">
                    <div>
                        <p class="font-semibold">John Doe</p>
                        <p class="text-sm text-gray-600">{% trans "Full Stack Web Development" %}</p>
                    </div>
                    <div class="ml-auto flex">
                        <span class="text-yellow-500">★★★★★</span>
                    </div>
                </div>
                <p class="text-gray-700">{% trans "The learning path was well-structured and provided a clear roadmap to becoming a full stack developer. The projects were particularly helpful in applying the concepts learned." %}</p>
            </div>
            <div class="bg-gray-50 p-4 rounded-lg">
                <div class="flex items-center mb-2">
                    <img src="https://i.pravatar.cc/40?img=2" alt="{% trans "Learner" %}" class="w-10 h-10 rounded-full mr-3">
                    <div>
                        <p class="font-semibold">Jane Smith</p>
                        <p class="text-sm text-gray-600">{% trans "Data Science Mastery" %}</p>
                    </div>
                    <div class="ml-auto flex">
                        <span class="text-yellow-500">★★★★☆</span>
                    </div>
                </div>
                <p class="text-gray-700">{% trans "Great content and progression. I would appreciate more hands-on exercises in the machine learning section, but overall, it's an excellent learning path." %}</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script>
    // Learner Progress Distribution Chart
    var progressCtx = document.getElementById('learnerProgressChart').getContext('2d');
    var progressChart = new Chart(progressCtx, {
        type: 'doughnut',
        data: {
            labels: ['{% trans "Not Started" %}', '{% trans "In Progress" %}', '{% trans "Completed" %}'],
            datasets: [{
                data: [15, 45, 40],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.8)',
                    'rgba(54, 162, 235, 0.8)',
                    'rgba(75, 192, 192, 0.8)'
                ]
            }]
        },
        options: {
            responsive: true,
            plugins: {
                legend: {
                    position: 'bottom',
                }
            }
        }
    });

    // Completion Time Analysis Chart
    var timeCtx = document.getElementById('completionTimeChart').getContext('2d');
    var timeChart = new Chart(timeCtx, {
        type: 'bar',
        data: {
            labels: ['{% trans "< 3 months" %}', '{% trans "3-6 months" %}', '{% trans "6-9 months" %}', '{% trans "9-12 months" %}', '{% trans "> 12 months" %}'],
            datasets: [{
                label: '{% trans "Number of Learners" %}',
                data: [45, 80, 65, 30, 10],
                backgroundColor: 'rgba(75, 192, 192, 0.8)'
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    });
</script>
{% endblock %}