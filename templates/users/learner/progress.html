{% extends './_base.html' %}
{% load static %}
{% load i18n %}

{% block title %}{% trans "My Progress - LMS Learner" %}{% endblock %}

{% block extra_css %}
<style>
</style>
{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold text-gray-800 mb-8">My Learning Progress</h1>
    
    <!-- Overall Progress Summary -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8">
        <div class="bg-white rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="flex-shrink-0 bg-blue-500 rounded-full p-3">
                    <i class="fas fa-graduation-cap text-white text-2xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-600">Courses Completed</h2>
                    <p class="text-2xl font-semibold text-gray-900">12 / 15</p>
                </div>
            </div>
            <div class="mt-4">
                <div class="w-full bg-gray-200 rounded-full h-2">
                    <div class="bg-blue-500 h-2 rounded-full" style="width: 80%"></div>
                </div>
            </div>
        </div>
        <div class="bg-white rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="flex-shrink-0 bg-green-500 rounded-full p-3">
                    <i class="fas fa-clock text-white text-2xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-600">Total Learning Hours</h2>
                    <p class="text-2xl font-semibold text-gray-900">187 hrs</p>
                </div>
            </div>
            <p class="mt-2 text-sm text-gray-600">+12 hrs this week</p>
        </div>
        <div class="bg-white rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="flex-shrink-0 bg-yellow-500 rounded-full p-3">
                    <i class="fas fa-certificate text-white text-2xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-600">Certificates Earned</h2>
                    <p class="text-2xl font-semibold text-gray-900">8</p>
                </div>
            </div>
            <p class="mt-2 text-sm text-gray-600">2 pending completion</p>
        </div>
        <div class="bg-white rounded-lg shadow p-6">
            <div class="flex items-center">
                <div class="flex-shrink-0 bg-purple-500 rounded-full p-3">
                    <i class="fas fa-fire text-white text-2xl"></i>
                </div>
                <div class="ml-4">
                    <h2 class="text-sm font-medium text-gray-600">Learning Streak</h2>
                    <p class="text-2xl font-semibold text-gray-900">14 days</p>
                </div>
            </div>
            <p class="mt-2 text-sm text-gray-600">Personal best: 21 days</p>
        </div>
    </div>

    <!-- Detailed Progress Section -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8">
        <!-- Active Courses Progress -->
        <div class="lg:col-span-2 bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Active Courses Progress</h2>
            <div class="space-y-4">
                <div>
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm font-medium text-gray-700">Data Science Specialization</span>
                        <span class="text-sm font-medium text-gray-700">75%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-blue-600 h-2.5 rounded-full" style="width: 75%"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>Completed: 6/8 modules</span>
                        <span>Est. completion: 2 weeks</span>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm font-medium text-gray-700">Machine Learning Fundamentals</span>
                        <span class="text-sm font-medium text-gray-700">40%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-green-600 h-2.5 rounded-full" style="width: 40%"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>Completed: 2/5 modules</span>
                        <span>Est. completion: 1 month</span>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm font-medium text-gray-700">Advanced Web Development</span>
                        <span class="text-sm font-medium text-gray-700">90%</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-yellow-600 h-2.5 rounded-full" style="width: 90%"></div>
                    </div>
                    <div class="flex justify-between text-xs text-gray-500 mt-1">
                        <span>Completed: 9/10 modules</span>
                        <span>Est. completion: 3 days</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Learning Activity -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Learning Activity</h2>
            <canvas id="learningActivityChart" width="400" height="200"></canvas>
            <div class="mt-4">
                <h3 class="text-sm font-medium text-gray-700 mb-2">This Week's Highlights</h3>
                <ul class="space-y-2">
                    <li class="flex items-center text-sm">
                        <i class="fas fa-check-circle text-green-500 mr-2"></i>
                        Completed 3 quizzes
                    </li>
                    <li class="flex items-center text-sm">
                        <i class="fas fa-book text-blue-500 mr-2"></i>
                        Read 5 chapters
                    </li>
                    <li class="flex items-center text-sm">
                        <i class="fas fa-video text-red-500 mr-2"></i>
                        Watched 7 video lectures
                    </li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Skills and Achievements -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
        <!-- Skills Progress -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Skills Progress</h2>
            <div class="space-y-4">
                <div>
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm font-medium text-gray-700">Python Programming</span>
                        <span class="text-sm font-medium text-gray-700">Advanced</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-blue-600 h-2.5 rounded-full" style="width: 85%"></div>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm font-medium text-gray-700">Data Analysis</span>
                        <span class="text-sm font-medium text-gray-700">Intermediate</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-green-600 h-2.5 rounded-full" style="width: 60%"></div>
                    </div>
                </div>
                <div>
                    <div class="flex justify-between items-center mb-1">
                        <span class="text-sm font-medium text-gray-700">Machine Learning</span>
                        <span class="text-sm font-medium text-gray-700">Beginner</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2.5">
                        <div class="bg-yellow-600 h-2.5 rounded-full" style="width: 30%"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Recent Achievements -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Recent Achievements</h2>
            <div class="space-y-4">
                <div class="flex items-center p-3 bg-blue-50 rounded-lg">
                    <i class="fas fa-award text-2xl text-blue-500 mr-4"></i>
                    <div>
                        <h3 class="text-sm font-semibold text-gray-800">Course Completion</h3>
                        <p class="text-xs text-gray-600">Finished "Advanced Python Techniques"</p>
                    </div>
                </div>
                <div class="flex items-center p-3 bg-green-50 rounded-lg">
                    <i class="fas fa-trophy text-2xl text-green-500 mr-4"></i>
                    <div>
                        <h3 class="text-sm font-semibold text-gray-800">Top Performer</h3>
                        <p class="text-xs text-gray-600">Ranked #1 in "Data Structures Quiz"</p>
                    </div>
                </div>
                <div class="flex items-center p-3 bg-yellow-50 rounded-lg">
                    <i class="fas fa-certificate text-2xl text-yellow-500 mr-4"></i>
                    <div>
                        <h3 class="text-sm font-semibold text-gray-800">New Certification</h3>
                        <p class="text-xs text-gray-600">Earned "Data Analysis Expert" badge</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Learning Goals and Recommendations -->
    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
        <!-- Learning Goals -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Learning Goals</h2>
            <ul class="space-y-3">
                <li class="flex items-center">
                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600" checked>
                    <span class="ml-2 text-sm text-gray-700">Complete Data Science Specialization</span>
                </li>
                <li class="flex items-center">
                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                    <span class="ml-2 text-sm text-gray-700">Start Machine Learning project</span>
                </li>
                <li class="flex items-center">
                    <input type="checkbox" class="form-checkbox h-5 w-5 text-blue-600">
                    <span class="ml-2 text-sm text-gray-700">Achieve 30-day learning streak</span>
                </li>
            </ul>
            <button class="mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition duration-300">Add New Goal</button>
        </div>
        
        <!-- Personalized Recommendations -->
        <div class="bg-white rounded-lg shadow p-6">
            <h2 class="text-xl font-semibold text-gray-800 mb-4">Recommended for You</h2>
            <div class="space-y-4">
                <div class="flex items-center">
                    <img src="https://via.placeholder.com/60" alt="Course Thumbnail" class="w-15 h-15 object-cover rounded mr-4">
                    <div>
                        <h3 class="text-sm font-semibold text-gray-800">Advanced Machine Learning Techniques</h3>
                        <p class="text-xs text-gray-600">Enhance your ML skills with cutting-edge algorithms</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <img src="https://via.placeholder.com/60" alt="Course Thumbnail" class="w-15 h-15 object-cover rounded mr-4">
                    <div>
                        <h3 class="text-sm font-semibold text-gray-800">Data Visualization Mastery</h3>
                        <p class="text-xs text-gray-600">Create impactful visualizations with advanced tools</p>
                    </div>
                </div>
                <div class="flex items-center">
                    <img src="https://via.placeholder.com/60" alt="Course Thumbnail" class="w-15 h-15 object-cover rounded mr-4">
                    <div>
                        <h3 class="text-sm font-semibold text-gray-800">Deep Learning Specialization</h3>
                        <p class="text-xs text-gray-600">Dive into neural networks and AI applications</p>
                    </div>
                </div>
            </div>
            <button class="mt-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition duration-300">View All Recommendations</button>
        </div>
    </div>

    <!-- Learning Pathways -->
    <div class="mt-8 bg-white rounded-lg shadow p-6">
        <h2 class="text-xl font-semibold text-gray-800 mb-4">Your Learning Pathways</h2>
        <div class="overflow-x-auto">
            <div class="inline-flex space-x-4 pb-4">
                <div class="w-64 bg-blue-50 rounded-lg p-4 flex flex-col items-center">
                    <div class="w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center mb-2">
                        <i class="fas fa-chart-line text-white text-xl"></i>
                    </div>
                    <h3 class="text-sm font-semibold text-gray-800 text-center">Data Science Career Path</h3>
                    <p class="text-xs text-gray-600 text-center mt-2">Progress: 65%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                        <div class="bg-blue-600 h-2 rounded-full" style="width: 65%"></div>
                    </div>
                </div>
                <div class="w-64 bg-green-50 rounded-lg p-4 flex flex-col items-center">
                    <div class="w-12 h-12 bg-green-500 rounded-full flex items-center justify-center mb-2">
                        <i class="fas fa-laptop-code text-white text-xl"></i>
                    </div>
                    <h3 class="text-sm font-semibold text-gray-800 text-center">Full-Stack Developer Path</h3>
                    <p class="text-xs text-gray-600 text-center mt-2">Progress: 40%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                        <div class="bg-green-600 h-2 rounded-full" style="width: 40%"></div>
                    </div>
                </div>
                <div class="w-64 bg-purple-50 rounded-lg p-4 flex flex-col items-center">
                    <div class="w-12 h-12 bg-purple-500 rounded-full flex items-center justify-center mb-2">
                        <i class="fas fa-brain text-white text-xl"></i>
                    </div>
                    <h3 class="text-sm font-semibold text-gray-800 text-center">AI and Machine Learning Path</h3>
                    <p class="text-xs text-gray-600 text-center mt-2">Progress: 25%</p>
                    <div class="w-full bg-gray-200 rounded-full h-2 mt-2">
                        <div class="bg-purple-600 h-2 rounded-full" style="width: 25%"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    // Learning Activity Chart
    var ctx = document.getElementById('learningActivityChart').getContext('2d');
    var myChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
            datasets: [{
                label: 'Hours Studied',
                data: [2, 4, 3, 5, 4, 6, 3],
                backgroundColor: 'rgba(59, 130, 246, 0.2)',
                borderColor: 'rgba(59, 130, 246, 1)',
                borderWidth: 2,
                tension: 0.4
            }]
        },
        options: {
            scales: {
                y: {
                    beginAtZero: true,
                    title: {
                        display: true,
                        text: 'Hours'
                    }
                }
            },
            plugins: {
                legend: {
                    display: false
                }
            }
        }
    });
</script>
{% endblock %}